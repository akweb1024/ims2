{
    "providers": [
        "node"
    ],
    "variables": {
        "NPM_CONFIG_PRODUCTION": "false",
        "NIXPACKS_NODE_VERSION": "22",
        "NODE_OPTIONS": "--max-old-space-size=4096"
    },
    "phases": {
        "setup": {
            "nixPkgs": [
                "nodejs_22",
                "npm-9_x",
                "openssl",
                "bash"
            ]
        },
        "install": {
            "cmds": [
                "NODE_ENV=development npm ci"
            ]
        },
        "build": {
            "cmds": [
                "npm run build"
            ]
        }
    },
    "start": {
        "cmd": "NODE_ENV=production npm run start"
    }
}